# キミヨミ プロジェクト引き継ぎドキュメント

## プロジェクト概要
キミヨミは、パーソナリティ診断と相性診断を提供するFlutterアプリケーションです。
クリーンアーキテクチャを採用し、バックエンドにGo、フロントエンドにFlutterを使用しています。

## 実装済み機能の詳細
実装済みの機能の詳細は `backend/docs/` 以下の各機能別IMPLEMENTATIONファイルを参照してください：

- auth/IMPLEMENTATION.md - 認証機能
- diagnosis/IMPLEMENTATION.md - 診断機能
- profile/IMPLEMENTATION.md - プロフィール機能
- settings/IMPLEMENTATION.md - 設定機能
- search/IMPLEMENTATION.md - 検索機能
- notification/IMPLEMENTATION.md - 通知機能
- content_sales/IMPLEMENTATION.md - コンテンツ販売機能
- architecture/IMPLEMENTATION.md - アーキテクチャ
- setup/IMPLEMENTATION.md - セットアップ手順

## 次の実装タスク
実装予定のタスクは `frontend/next_build.md` に記載されています。
各カテゴリごとに優先順位を付けて実装を進めてください。

## 引き継ぎ用プロンプト

### プロジェクトの目的
キミヨミは、ユーザーのパーソナリティを診断し、他のユーザーとの相性を分析するアプリケーションです。
AIを活用した詳細な診断結果の提供と、診断結果に基づいたパーソナライズされたコンテンツ提供を特徴としています。

### アーキテクチャ概要
1. フロントエンド（Flutter）
   - クリーンアーキテクチャに基づく層分け
   - Riverpodを使用した状態管理
   - Go Routerによるルーティング
   - 多言語対応（l10n）
   - Firebase Authentication連携

2. バックエンド（Go）
   - クリーンアーキテクチャ採用
   - gin-gonicフレームワーク使用
   - PostgreSQLデータベース
   - Redisキャッシュ
   - AWS S3によるコンテンツ管理

### 主要機能
1. 認証・プロフィール
   - Firebase認証
   - JWTによるセッション管理
   - プロフィール情報管理

2. 診断システム
   - パーソナリティ診断
   - 相性診断
   - AIによる診断結果生成
   - 診断履歴管理

3. コンテンツ管理
   - 写真・動画コンテンツ
   - コンテンツと診断結果の紐付け
   - アクセス権限管理

4. 決済
   - サブスクリプション管理
   - Stripe決済連携
   - 支払い履歴管理

### 開発環境
1. フロントエンド
   - Flutter SDK
   - Android Studio / VS Code
   - Firebase CLI
   - Flutter l10n

2. バックエンド
   - Go 1.21以上
   - Docker
   - PostgreSQL
   - Redis
   - AWS CLI

### デプロイメント
1. フロントエンド
   - iOS: App Store
   - Android: Play Store
   - CI/CD: GitHub Actions

2. バックエンド
   - AWS EKS
   - Docker コンテナ化
   - Kubernetes オーケストレーション

### セキュリティ考慮事項
1. 認証・認可
   - JWTトークン検証
   - RBAC（Role-Based Access Control）
   - リソースレベルの権限管理

2. データ保護
   - 個人情報の暗号化
   - セキュアなストレージ
   - アクセス制御

3. API セキュリティ
   - CORS設定
   - レート制限
   - 入力バリデーション

### モニタリング
1. アプリケーションメトリクス
   - エラー追跡
   - パフォーマンスモニタリング
   - ユーザー行動分析

2. インフラストラクチャ
   - リソース使用率
   - 可用性モニタリング
   - セキュリティアラート

### コーディング規約
1. 共通ルール
   - コードフォーマット
   - 命名規則
   - ドキュメント要件
   - テスト要件

2. フロントエンド固有
   - Widgetの分割ルール
   - 状態管理パターン
   - UIコンポーネント設計

3. バックエンド固有
   - エラーハンドリング
   - ログ出力
   - トランザクション管理

### テスト戦略
1. フロントエンド
   - ユニットテスト
   - Widgetテスト
   - インテグレーションテスト
   - E2Eテスト

2. バックエンド
   - ユニットテスト
   - インテグレーションテスト
   - パフォーマンステスト
   - セキュリティテスト

### 今後の展開
1. 機能拡張
   - AIによる診断精度向上
   - コンテンツレコメンデーション
   - ソーシャル機能強化
   - グループ診断機能

2. パフォーマンス最適化
   - レスポンス時間改善
   - キャッシュ戦略
   - データベース最適化

3. ユーザー体験向上
   - UI/UXの改善
   - パーソナライゼーション強化
   - アクセシビリティ対応

### トラブルシューティング
1. 一般的な問題
   - 認証エラー
   - API通信エラー
   - パフォーマンス問題

2. 環境固有の問題
   - 開発環境セットアップ
   - デプロイメントエラー
   - 依存関係の問題

### ドキュメント管理
1. コード
   - API仕様書
   - アーキテクチャ図
   - データモデル図

2. 運用
   - 環境構築手順
   - デプロイ手順
   - 障害対応手順

3. ユーザー
   - 利用規約
   - プライバシーポリシー
   - ヘルプドキュメント